{% extends 'base.html' %}

{% block title %}Devices Information{% endblock %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/informacion-dispositivo.css') }}">
{% endblock %}

{% block content %}
    <div class="container">       
        <h2>Información del Dispositivo</h2>
        <input type="hidden" name="device_id" value="{{ device.id }}">
        <p>Nombre: {{ device.donante_nombre }}</p>
        <p>Email: {{ device.donante_email }}</p>
        <p>Número: {{ device.donante_celular }}</p>
        <p>Región: {{ device.region }}</p>
        <p>Tipo: {{ device.tipo }}</p>
        <p>Nombre del dispositivo: {{ device.nombre }}</p>
        <p>Estado: {{ device.estado }}</p>
        <img src="{{ url_for('static', filename='uploads/' + device.ruta_archivo) }}" alt="{{ device.nombre }}">

        <form id="commentForm" action="{{ url_for('add_comment', device_id=device.id) }}" method="POST">
            <label for="commentName">Nombre:</label>
            <input type="text" id="commentName" name="commentName" required minlength="3" maxlength="80">
            <p id="nameError" class="error" style="color:red;"></p> 

            <label for="commentText">Comentario:</label>
            <textarea id="commentText" name="commentText" rows="4" cols="50" required minlength="5"></textarea>
            <p id="textError" class="error" style="color:red;"></p> 

            <button type="submit">Agregar comentario</button>
        </form>

        <h3>Comentarios</h3>
        <ul>
            {% for comment in comments %}
                <li class="comment-container">
                    <span class="comment-author">{{ comment[0] }}</span><br>
                    <span class="comment-time">{{ comment[2] }}</span>
                    <span class="comment-text">{{ comment[1] }}</span>
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}

{% block javascript %}
    <script src="{{ url_for('static', filename='js/add-comment.js') }}"></script>
{% endblock %}
